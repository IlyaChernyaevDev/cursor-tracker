import{C as T,d as f,i as m,t as g,D as w,A as c,E as S,F as z,G as B,H as C,_ as y,r as E,I as M,o as N,J as I,v as $,z as d,B as p,x as H,y as v,K as h,L}from"./Bsh9kJVM.js";import{u as A}from"./Cr_2soyB.js";function b(i,e={}){return A(i,{...e,transform:T})}const J=f({__name:"typo",props:{tag:{default:"p"},size:{default:"m"},weight:{default:"400"},decoration:{default:"none"},color:{default:"#000000"},inline:{type:Boolean},block:{type:Boolean},lineClamp:{default:void 0},textAlign:{default:"left"},capitalize:{type:Boolean,default:!1},lineHeight:{default:"normal"},href:{default:void 0}},setup(i){const e=i,t=m(()=>[e.tag&&`font-${e.tag}`,e.size&&`text-${e.size}`,e.weight&&`font-${e.weight}`,e.tag==="a"&&"text-link",e.decoration&&`text-decoration-${e.decoration}`,e.inline&&"inline",e.block&&"block",e.textAlign&&`text-${e.textAlign}`,e.lineClamp&&"line-clamp",e.capitalize&&"capitalize",e.lineHeight&&`line-height-${e.lineHeight}`]),a=m(()=>(e.tag==="a"&&!e.href&&console.warn("Href обязательный атрибут для ссылок"),e.tag)),l=m(()=>({color:e.color,...e.lineClamp&&{"-webkit-line-clamp":e.lineClamp}}));return(n,s)=>(g(),w(C(a.value),{class:z(t.value),style:B(l.value)},{default:c(()=>[S(n.$slots,"default",{},void 0,!0)]),_:3},8,["class","style"]))}}),O=y(J,[["__scopeId","data-v-9bb47d07"]]),_="last-mouse-coordinates",Y="mouse-coordinates",D=()=>{const e=E((()=>{const o=localStorage.getItem(_);return o?JSON.parse(o):{x:0,y:0,sourceType:null}})());let t=null;const a=()=>{t=new BroadcastChannel(Y),t.onmessage=o=>{e.value=o.data,localStorage.setItem(_,JSON.stringify(o.data))}},l=o=>{const u={x:o.clientX,y:o.clientY,sourceType:"mouse"};s(u)},n=o=>{if(o.touches.length>0){const u=o.touches[0],k={x:u.clientX,y:u.clientY,sourceType:"touch"};s(k)}},s=o=>{e.value=o,t==null||t.postMessage(o),localStorage.setItem(_,JSON.stringify(o))},r=()=>{a(),window.addEventListener("mousemove",l,{passive:!0}),window.addEventListener("touchstart",n,{passive:!0}),window.addEventListener("touchmove",n,{passive:!0}),t==null||t.postMessage({x:e.value.x,y:e.value.y,sourceType:e.value.sourceType})},x=()=>{window.removeEventListener("mousemove",l),window.removeEventListener("touchstart",n),window.removeEventListener("touchmove",n),t==null||t.close(),t=null};return{coordinates:M(e),startTracking:r,stopTracking:x}},V={class:"mouse-tracker"},X={class:"coordinates"},G=f({__name:"mouse-tracker",setup(i){const{coordinates:e,startTracking:t,stopTracking:a}=D(),l=()=>{localStorage.setItem("last-mouse-coordinates",JSON.stringify(e.value)),window.open(window.location.href,"_blank")};return N(()=>{t()}),I(()=>{a()}),(n,s)=>{const r=O;return g(),$("div",V,[d(r,{tag:"h1",size:"xl",weight:"600",class:"title"},{default:c(()=>s[0]||(s[0]=[p(" Mouse Coordinates ")])),_:1}),H("div",X,[d(r,{tag:"p",size:"l",weight:"500"},{default:c(()=>[p(" X: "+v(h(e).x),1)]),_:1}),d(r,{tag:"p",size:"l",weight:"500"},{default:c(()=>[p(" Y: "+v(h(e).y),1)]),_:1})]),d(r,{tag:"a",size:"m",weight:"500",color:"#2563eb",decoration:"underline",class:"open-tab-link",href:"/",onClick:L(l,["prevent"])},{default:c(()=>s[1]||(s[1]=[p(" Открыть в новой вкладке для проверки синхронизации ")])),_:1})])}}}),K=y(G,[["__scopeId","data-v-02e06e06"]]),R=f({__name:"index",setup(i){return b({title:"Mouse Tracker"}),(e,t)=>{const a=K;return g(),w(a)}}});export{R as default};
